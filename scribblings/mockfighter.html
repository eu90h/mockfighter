<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>mockfighter</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html" class="tocviewselflink" data-pltdoc="x">mockfighter</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html#%28part._intro%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html#%28part._quick%29" class="tocviewlink" data-pltdoc="x">Quickstart</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html#%28part._more%29" class="tocviewlink" data-pltdoc="x">How It Works</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html#%28part._differences%29" class="tocviewlink" data-pltdoc="x">Differences from Stockfighter</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html#%28part._api%29" class="tocviewlink" data-pltdoc="x">API Reference</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html#%28part._end%29" class="tocviewlink" data-pltdoc="x">Bugs</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._mockfighter%29" class="tocsubseclink" data-pltdoc="x">mockfighter</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._intro%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._quick%29" class="tocsubseclink" data-pltdoc="x">Quickstart</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._more%29" class="tocsubseclink" data-pltdoc="x">How It Works</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._differences%29" class="tocsubseclink" data-pltdoc="x">Differences from Stockfighter</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._api%29" class="tocsubseclink" data-pltdoc="x">API Reference</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._end%29" class="tocsubseclink" data-pltdoc="x">Bugs</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">6.3</span></div><h2><a name="(part._mockfighter)"></a><a name="(mod-path._mockfighter)"></a>mockfighter</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">eu90h</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Racket%20v6.3/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="file:///Users/annafeatherstone/mockfighter/scribblings/mockfighter.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">mockfighter</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">mockfighter</span></span></td></tr></table></p><h3>1<tt>&nbsp;</tt><a name="(part._intro)"></a>Introduction</h3><p>Mockfighter is a web API frontend for a limit order book (LOB) exchange. The API was designed with the
intent of being as close to 1-1 with Stockfighter&rsquo;s API as possible.</p><p>Currently, two bots are provided: a noisy trader and a market maker.
Both are extremely stupid, as anything better would give away solutions to Stockfighter levels.</p><h3>2<tt>&nbsp;</tt><a name="(part._quick)"></a>Quickstart</h3><p><div class="SIntrapara">The following snippet shows how to run the mockfighter server on http://localhost:8000/
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Racket%20v6.3/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mockfighter</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Racket%20v6.3/doc/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">server-thread</span><span class="hspace">&nbsp;</span><span class="RktSym">begin-trading</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">run-mockfighter</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This will begin running the server in a separate thread, which is returned
along with a thunk begin-trading which, when called, starts the bots trading loop.</div></p><p>Mockfighter requires (like Stockfighter) api keys, which are set in request headers. Any string will do here.</p><h3>3<tt>&nbsp;</tt><a name="(part._more)"></a>How It Works</h3><p>A player registers with the game master by making a GET request to http://localhost:8000/gm/api/instances/new. This creates a new instance of an exchange, providing one stock.</p><p>A json object is returned containing an account ID, a venue name, and a stock symbol.</p><p>Additionally, the bots are created at this point. The stock is assigned a fair market value
and the traders are informed of this value before making trades.</p><p>Every trading day lasts 5 seconds. At the end of each day, the fair market value changes.</p><p>The player interacts with the market by making HTTP GET and POST requests to various urls, blah blah blah :P</p><h3>4<tt>&nbsp;</tt><a name="(part._differences)"></a>Differences from Stockfighter</h3><p>Getting a stock&rsquo;s orderbook returns more detailed order data than stockfighter.</p><p>Only market and limit orders are supported.</p><p>Quotes don&rsquo;t contain bid/ask depth, just best offer sizes.</p><p>Websockets aren&rsquo;t supported yet.</p><p>I hope to fix most of this soon.</p><h3>5<tt>&nbsp;</tt><a name="(part._api)"></a>API Reference</h3><p>I was able to use my stockfighter client without modification and it seems to work, so hopefully you can too.
For more information about the API see the Stockfighter reference or your client&rsquo;s documentation.
Since the goal is compatibility, any deviations from the Stockfighter API could be considered a bug, so report any oddities.</p><h3>6<tt>&nbsp;</tt><a name="(part._end)"></a>Bugs</h3><p>I&rsquo;m sure many exist. This was written fairly quickly and has had only minor testing (although all parts have been tested.)
If you find something let me know on GitHub!</p></div></div><div id="contextindicator">&nbsp;</div></body></html>